<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://oracleliudao.github.io</id>
    <title>ç¥è°•å…­é“</title>
    <updated>2020-05-22T12:25:23.307Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://oracleliudao.github.io"/>
    <link rel="self" href="https://oracleliudao.github.io/atom.xml"/>
    <subtitle>è§‰å¾—ä¸å¦‚æ„çš„æ—¶å€™ï¼Œæœ‰äººè¿‡å¾—æ¯”ä½ æ›´æƒ¨ã€‚</subtitle>
    <logo>https://oracleliudao.github.io/images/avatar.png</logo>
    <icon>https://oracleliudao.github.io/favicon.ico</icon>
    <rights>All rights reserved 2020, ç¥è°•å…­é“</rights>
    <entry>
        <title type="html"><![CDATA[Springé¢è¯•é¢˜]]></title>
        <id>https://oracleliudao.github.io/post/spring-mian-shi-ti/</id>
        <link href="https://oracleliudao.github.io/post/spring-mian-shi-ti/">
        </link>
        <updated>2020-04-20T06:38:21.000Z</updated>
        <content type="html"><![CDATA[<h2 id="springæ˜¯ä»€ä¹ˆ"><strong>Springæ˜¯ä»€ä¹ˆ?</strong></h2>
<p>Springæ˜¯ä¸€ä¸ªè½»é‡çº§çš„IoCå’ŒAOPå®¹å™¨æ¡†æ¶ã€‚ç›®çš„æ˜¯ç”¨äºç®€åŒ–ä¼ä¸šåº”ç”¨ç¨‹åºçš„å¼€å‘ï¼Œå®ƒä½¿å¾—å¼€å‘è€…åªéœ€è¦å…³å¿ƒä¸šåŠ¡éœ€æ±‚ã€‚å¸¸è§çš„é…ç½®æ–¹å¼æœ‰ä¸‰ç§ï¼šåŸºäºXMLçš„é…ç½®ã€åŸºäºæ³¨è§£çš„é…ç½®ã€åŸºäºJavaçš„é…ç½®ã€‚</p>
<p>ä¸»è¦ç”±ä»¥ä¸‹å‡ ä¸ªæ¨¡å—ç»„æˆï¼š</p>
<p>Spring Coreï¼šæ ¸å¿ƒç±»åº“ï¼Œæä¾›IOCæœåŠ¡ï¼›</p>
<p>Spring AOPï¼šAOPæœåŠ¡ï¼›</p>
<p>Spring DAOï¼šå¯¹JDBCçš„æŠ½è±¡ï¼Œç®€åŒ–äº†æ•°æ®è®¿é—®å¼‚å¸¸çš„å¤„ç†ï¼›</p>
<p>Spring ORMï¼šå¯¹ç°æœ‰çš„ORMæ¡†æ¶çš„æ”¯æŒï¼›</p>
<p>Spring Webï¼šæä¾›äº†åŸºæœ¬çš„é¢å‘Webçš„ç»¼åˆç‰¹æ€§ï¼Œä¾‹å¦‚å¤šæ–¹æ–‡ä»¶ä¸Šä¼ ï¼›</p>
<p>Spring MVCï¼šæä¾›é¢å‘Webåº”ç”¨çš„Model-View-Controllerå®ç°ã€‚</p>
<h2 id="2-spring-çš„ä¼˜ç‚¹">2ã€Spring çš„ä¼˜ç‚¹ï¼Ÿ</h2>
<p>ï¼ˆ1ï¼‰springå±äºä½ä¾µå…¥å¼è®¾è®¡ï¼Œä»£ç çš„æ±¡æŸ“æä½ï¼›</p>
<p>ï¼ˆ2ï¼‰springçš„DIæœºåˆ¶å°†å¯¹è±¡ä¹‹é—´çš„ä¾èµ–å…³ç³»äº¤ç”±æ¡†æ¶å¤„ç†ï¼Œå‡ä½ç»„ä»¶çš„è€¦åˆæ€§ï¼›</p>
<p>ï¼ˆ3ï¼‰Springæä¾›äº†AOPæŠ€æœ¯ï¼Œæ”¯æŒå°†ä¸€äº›é€šç”¨ä»»åŠ¡ï¼Œå¦‚å®‰å…¨ã€äº‹åŠ¡ã€æ—¥å¿—ã€æƒé™ç­‰è¿›è¡Œé›†ä¸­å¼ç®¡ç†ï¼Œä»è€Œæä¾›æ›´å¥½çš„å¤ç”¨ã€‚</p>
<p>ï¼ˆ4ï¼‰springå¯¹äºä¸»æµçš„åº”ç”¨æ¡†æ¶æä¾›äº†é›†æˆæ”¯æŒã€‚</p>
<h2 id="3-springçš„aopç†è§£">3ã€Springçš„AOPç†è§£ï¼š</h2>
<p>AOPï¼Œä¸€èˆ¬ç§°ä¸ºé¢å‘åˆ‡é¢ï¼Œä½œä¸ºé¢å‘å¯¹è±¡çš„ä¸€ç§è¡¥å……ï¼Œç”¨äºå°†é‚£äº›ä¸ä¸šåŠ¡æ— å…³ï¼Œä½†å´å¯¹å¤šä¸ªå¯¹è±¡äº§ç”Ÿå½±å“çš„å…¬å…±è¡Œä¸ºå’Œé€»è¾‘ï¼ŒæŠ½å–å¹¶å°è£…ä¸ºä¸€ä¸ªå¯é‡ç”¨çš„æ¨¡å—ï¼Œè¿™ä¸ªæ¨¡å—è¢«å‘½åä¸ºâ€œåˆ‡é¢â€ï¼ˆAspectï¼‰ï¼Œå‡å°‘ç³»ç»Ÿä¸­çš„é‡å¤ä»£ç ï¼Œé™ä½äº†æ¨¡å—é—´çš„è€¦åˆåº¦ï¼ŒåŒæ—¶æé«˜äº†ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§ã€‚å¯ç”¨äºæƒé™è®¤è¯ã€æ—¥å¿—ã€äº‹åŠ¡å¤„ç†ã€‚</p>
<p>AOPå®ç°çš„å…³é”®åœ¨äº ä»£ç†æ¨¡å¼ï¼ŒAOPä»£ç†ä¸»è¦åˆ†ä¸ºé™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†ã€‚é™æ€ä»£ç†çš„ä»£è¡¨ä¸ºAspectJï¼›åŠ¨æ€ä»£ç†åˆ™ä»¥Spring AOPä¸ºä»£è¡¨ã€‚</p>
<p>ï¼ˆ1ï¼‰AspectJæ˜¯é™æ€ä»£ç†çš„å¢å¼ºï¼Œæ‰€è°“é™æ€ä»£ç†ï¼Œå°±æ˜¯AOPæ¡†æ¶ä¼šåœ¨ç¼–è¯‘é˜¶æ®µç”ŸæˆAOPä»£ç†ç±»ï¼Œå› æ­¤ä¹Ÿç§°ä¸ºç¼–è¯‘æ—¶å¢å¼ºï¼Œä»–ä¼šåœ¨ç¼–è¯‘é˜¶æ®µå°†AspectJ(åˆ‡é¢)ç»‡å…¥åˆ°Javaå­—èŠ‚ç ä¸­ï¼Œè¿è¡Œçš„æ—¶å€™å°±æ˜¯å¢å¼ºä¹‹åçš„AOPå¯¹è±¡ã€‚</p>
<p>ï¼ˆ2ï¼‰Spring AOPä½¿ç”¨çš„åŠ¨æ€ä»£ç†ï¼Œæ‰€è°“çš„åŠ¨æ€ä»£ç†å°±æ˜¯è¯´AOPæ¡†æ¶ä¸ä¼šå»ä¿®æ”¹å­—èŠ‚ç ï¼Œè€Œæ˜¯æ¯æ¬¡è¿è¡Œæ—¶åœ¨å†…å­˜ä¸­ä¸´æ—¶ä¸ºæ–¹æ³•ç”Ÿæˆä¸€ä¸ªAOPå¯¹è±¡ï¼Œè¿™ä¸ªAOPå¯¹è±¡åŒ…å«äº†ç›®æ ‡å¯¹è±¡çš„å…¨éƒ¨æ–¹æ³•ï¼Œå¹¶ä¸”åœ¨ç‰¹å®šçš„åˆ‡ç‚¹åšäº†å¢å¼ºå¤„ç†ï¼Œå¹¶å›è°ƒåŸå¯¹è±¡çš„æ–¹æ³•ã€‚</p>
<p>Spring AOPä¸­çš„åŠ¨æ€ä»£ç†ä¸»è¦æœ‰ä¸¤ç§æ–¹å¼ï¼ŒJDKåŠ¨æ€ä»£ç†å’ŒCGLIBåŠ¨æ€ä»£ç†ï¼š</p>
<pre><code>    â‘ JDKåŠ¨æ€ä»£ç†åªæä¾›æ¥å£çš„ä»£ç†ï¼Œä¸æ”¯æŒç±»çš„ä»£ç†ã€‚æ ¸å¿ƒInvocationHandleræ¥å£å’ŒProxyç±»ï¼ŒInvocationHandler é€šè¿‡invoke()æ–¹æ³•åå°„æ¥è°ƒç”¨ç›®æ ‡ç±»ä¸­çš„ä»£ç ï¼ŒåŠ¨æ€åœ°å°†æ¨ªåˆ‡é€»è¾‘å’Œä¸šåŠ¡ç¼–ç»‡åœ¨ä¸€èµ·ï¼›æ¥ç€ï¼ŒProxyåˆ©ç”¨ InvocationHandleråŠ¨æ€åˆ›å»ºä¸€ä¸ªç¬¦åˆæŸä¸€æ¥å£çš„çš„å®ä¾‹,  ç”Ÿæˆç›®æ ‡ç±»çš„ä»£ç†å¯¹è±¡ã€‚

    â‘¡å¦‚æœä»£ç†ç±»æ²¡æœ‰å®ç° InvocationHandler æ¥å£ï¼Œé‚£ä¹ˆSpring AOPä¼šé€‰æ‹©ä½¿ç”¨CGLIBæ¥åŠ¨æ€ä»£ç†ç›®æ ‡ç±»ã€‚CGLIBï¼ˆCode Generation Libraryï¼‰ï¼Œæ˜¯ä¸€ä¸ªä»£ç ç”Ÿæˆçš„ç±»åº“ï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€çš„ç”ŸæˆæŒ‡å®šç±»çš„ä¸€ä¸ªå­ç±»å¯¹è±¡ï¼Œå¹¶è¦†ç›–å…¶ä¸­ç‰¹å®šæ–¹æ³•å¹¶æ·»åŠ å¢å¼ºä»£ç ï¼Œä»è€Œå®ç°AOPã€‚CGLIBæ˜¯é€šè¿‡ç»§æ‰¿çš„æ–¹å¼åšçš„åŠ¨æ€ä»£ç†ï¼Œå› æ­¤å¦‚æœæŸä¸ªç±»è¢«æ ‡è®°ä¸ºfinalï¼Œé‚£ä¹ˆå®ƒæ˜¯æ— æ³•ä½¿ç”¨CGLIBåšåŠ¨æ€ä»£ç†çš„ã€‚
</code></pre>
<p>ï¼ˆ3ï¼‰é™æ€ä»£ç†ä¸åŠ¨æ€ä»£ç†åŒºåˆ«åœ¨äºç”ŸæˆAOPä»£ç†å¯¹è±¡çš„æ—¶æœºä¸åŒï¼Œç›¸å¯¹æ¥è¯´AspectJçš„é™æ€ä»£ç†æ–¹å¼å…·æœ‰æ›´å¥½çš„æ€§èƒ½ï¼Œä½†æ˜¯AspectJéœ€è¦ç‰¹å®šçš„ç¼–è¯‘å™¨è¿›è¡Œå¤„ç†ï¼Œè€ŒSpring AOPåˆ™æ— éœ€ç‰¹å®šçš„ç¼–è¯‘å™¨å¤„ç†ã€‚</p>
<p>InvocationHandler çš„ invoke(Object  proxy,Method  method,Object[] args)ï¼šproxyæ˜¯æœ€ç»ˆç”Ÿæˆçš„ä»£ç†å®ä¾‹;  method æ˜¯è¢«ä»£ç†ç›®æ ‡å®ä¾‹çš„æŸä¸ªå…·ä½“æ–¹æ³•;  args æ˜¯è¢«ä»£ç†ç›®æ ‡å®ä¾‹æŸä¸ªæ–¹æ³•çš„å…·ä½“å…¥å‚, åœ¨æ–¹æ³•åå°„è°ƒç”¨æ—¶ä½¿ç”¨ã€‚</p>
<h3 id="ä»£ç†çš„åˆ†æ">ä»£ç†çš„åˆ†æ</h3>
<p>å®¢æˆ· - ç”Ÿäº§å‚å®¶(ç”Ÿäº§å’Œé”€å”®(å”®å)éƒ½æ˜¯å‚å®¶ç›´æ¥å¯¹æ¥å®¢æˆ·)</p>
<p>ç”Ÿäº§å‚å®¶ä¸å¸Œæœ›ç”Ÿäº§å’Œé”€å”®(å”®å)å¸¦æ¥çš„è¿è¥å‹åŠ›</p>
<p>ä¹‹åç¬¬ä¸‰æ–¹(ç»é”€å•†å’Œä»£ç†å•†)çœ‹åˆ°å•†æœº,è´Ÿè´£å‚å®¶çš„é”€å”®å’Œå”®å</p>
<p>ä¹‹åå®¢æˆ·å»æ‰¾ç»é”€å•†/ä»£ç†å•†å»ä¹°å•†å“,å½“å®¢æˆ·çš„å•†å“å‡ºç°äº†é—®é¢˜,ä¹Ÿæ˜¯å»æ‰¾ä»£ç†å•†,ä»£ç†å•†è´Ÿè´£å’Œå‚å®¶è”ç³»,è§£å†³å•†å“çš„å”®å(ä»£ç†å•†å¯èƒ½ä¼šå…»ä¸€äº›äººåšä¸€äº›ç®€å•çš„å•†å“é—®é¢˜çš„å¤„ç†)æˆ–è€…ç›´æ¥æ‰¾å‚å®¶å¤„ç†æœ‰é—®é¢˜å•†å“çš„æ¯›ç—…</p>
<p>è€Œå‚å®¶æ¯æ¬¡ç”Ÿäº§å‡ºå•†å“ä¹‹å,å°±ä¼šé€šçŸ¥è¿™äº›ä»£ç†å•†æŠŠå•†å“ä¹°èµ°,ä¸€çº§ä»£ç†åœ¨åˆ†é”€ç»™äºŒçº§ä»£ç†,äºŒçº§ä»£ç†åœ¨åˆ†é”€ç»™ä¸‰çº§ä»£ç†,æœ€ååˆ°æ¶ˆè´¹è€…æ‰‹ä¸­.è¿™æ ·ç”Ÿäº§å‚å®¶å°±èŠ‚çœäº†è¿è¥çš„æˆæœ¬</p>
<p>é‚£ä¹ˆåœ¨javaä¸­å¦‚ä½•ä½“ç°ä»£ç†å•†è¿™ä¸ªç†å¿µå‘¢  éœ€è¦ç”¨åˆ°javaåŠ¨æ€ä»£ç†æœºåˆ¶</p>
<h3 id="ä»£ç æ“ä½œ">ä»£ç æ“ä½œ</h3>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[SpringCloud]]></title>
        <id>https://oracleliudao.github.io/post/springcloud/</id>
        <link href="https://oracleliudao.github.io/post/springcloud/">
        </link>
        <updated>2020-04-10T15:55:22.000Z</updated>
        <content type="html"><![CDATA[<p>ğŸ¤ springbootæ˜¯ä¸€ä¸ªä¸€ä¸ªçš„å¾®æœåŠ¡,springcloudåè°ƒå¾®æœåŠ¡çš„æ²»ç†æ¡†æ¶,å®ƒå°†springbootå¼€å‘çš„ä¸€ä¸ªä¸ªå•ä½“çš„å¾®æœåŠ¡æ•´åˆèµ·æ¥å¹¶ç®¡ç†,ä¸ºå„ä¸ªå¾®æœåŠ¡ä¹‹é—´æä¾›é…ç½®ç®¡ç†,æœåŠ¡å‘ç°,æ–­è·¯å™¨,è·¯ç”±,å…¨å±€é”,åˆ†å¸ƒå¼ä¼šè¯ç­‰é›†æˆæœåŠ¡<br>
ğŸ¤¡springcloudä¸dubboçš„åŒºåˆ«?<br>
springcloudé‡‡ç”¨çš„æ˜¯åŸºäºHTTPçš„RESTçš„æ–¹å¼é€šä¿¡<br>
dubboé‡‡ç”¨çš„æ˜¯RPCé€šä¿¡<br>
ğŸ‘©â€ğŸ”§é€šè¿‡ pom è®¾ç½® Maven é€šè¿‡ JDK 1.8 è¿›è¡Œç¼–è¯‘</p>
<pre><code class="language-xml"> &lt;properties&gt;
        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;
        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;
    &lt;/properties&gt;
</code></pre>
<h1 id="springcloud">springcloud</h1>
<h2 id="1åˆ›å»ºä¸€ä¸ªçˆ¶å·¥ç¨‹microservicecloud">1.åˆ›å»ºä¸€ä¸ªçˆ¶å·¥ç¨‹microservicecloud</h2>
<h2 id="2åˆ›å»ºä¸€ä¸ªå­ç±»æ¨¡å—-microservicecloud-api">2.åˆ›å»ºä¸€ä¸ªå­ç±»æ¨¡å— microservicecloud-api</h2>
<p>åœ¨apiå­ç±»æ¨¡å—ä¸­åˆ›å»ºcom.liudao.springcloud.entities</p>
<pre><code class="language-xml">  å®šä¹‰ä¸€ä¸ª public class Dept(orm mysqlå­—æ®µ) ç±»è¡¨å…³ç³»æ˜ å°„ implements serializable
  private Long deptNo; //ä¸»é”®
  private String dname; //éƒ¨é—¨åç§°
//æ¥è‡ªå“ªä¸ªæ•°æ®åº“,å› ä¸ºæœ‰å¯èƒ½ä¸€ä¸ªæœåŠ¡å¯¹åº”ä¸€ä¸ªæ•°æ®åº“,åŒä¸€ä¿¡æ¯è¢«å­˜å‚¨åˆ°ä¸åŒçš„æ•°æ®åº“ 
  private String db_source; 
 ç”Ÿæˆget/set/ç©ºå‚æ„é€ /å…¨å‚æ•°æ„é€ æ–¹æ³•/toStringæ–¹æ³•
</code></pre>
<p>æ€è€ƒ:ä»¥ä¸Šä»£ç æ¯æ¬¡ç”Ÿæˆä¸€ä¸ªentitieséƒ½éœ€è¦åŠ¨å››æ¬¡é¼ æ ‡,è™½ç„¶éƒ½æ˜¯è‡ªåŠ¨ç”Ÿæˆ,æœ‰æ²¡æœ‰å¥½çš„åŠæ³•ä¸€æ¬¡ç”Ÿæˆ?</p>
<p>â€‹        å¦‚æœåˆæ–°å¢ä¸€ä¸ªDeptçš„ä¸»ç®¡è´Ÿè´£äººçš„å±æ€§,æ˜¯ä¸æ˜¯éœ€è¦åˆä¸€æ¬¡é‡å¤æ€§çš„æ“ä½œä¸€å›?</p>
<p>â€‹		æ˜å¤©åœ¨åŠ ä¸€ä¸ªDeptçš„åœ°å€,æ¥¼å±‚,ä½ æ€ä¹ˆåŠ? å»æ‰ä¸€ä¸ªå­—æ®µå‘¢?</p>
<p>è§£å†³åŠæ³•: å¯ä»¥ä½¿ç”¨Lombokæ¥è§£å†³ä»¥ä¸Šé—®é¢˜</p>
<blockquote>
<p>å¯ä»¥é€‰æ‹©ä¸åŒæœ‰å‚æ„é€ çš„æ³¨è§£,è‡ªå®šä¹‰å¸¦å‚æ•°æ„é€ ,è¿™æ ·æ›´çµæ´»</p>
</blockquote>
<ul>
<li>Accessorså­˜å–å™¨</li>
</ul>
<p>lombokæ”¯æŒé“¾å¼ç¼–ç¨‹çš„æ³¨è§£@Accessors(chain=true)</p>
<pre><code class="language-java">Dept dept = new Dept();
dept.setDeptNo(1L).setDname(&quot;å¼€å‘éƒ¨&quot;).setDb_source(&quot;db01&quot;);
</code></pre>
<p>æœ€åä¸€æ­¥:clean/install</p>
<h2 id="3åˆ›å»ºä¸€ä¸ªæ–°å­ç±»module-microservicecloud-provider-dept-8001éƒ¨é—¨å¾®æœåŠ¡æä¾›è€…">3.åˆ›å»ºä¸€ä¸ªæ–°å­ç±»module -&gt; microservicecloud-provider-dept-8001éƒ¨é—¨å¾®æœåŠ¡æä¾›è€…</h2>
<p>çº¦å®š&gt;é…ç½®&gt;ç¼–ç </p>
<p>ä¹Ÿå°±æ˜¯è¯´åˆ›å»ºå®Œä¸€ä¸ªå¾®æœåŠ¡,ä½ ä¸è¦ç€æ€¥ç¼–ç ,å…ˆè€ƒè™‘ä¸‹éƒ½æœ‰ä»€ä¹ˆçº¦å®š,åœ¨å®Œæˆé…ç½®,æœ€ååœ¨ç¼–ç </p>
<p>å…ˆæ¥æŸ¥çœ‹ä¸€ä¸‹pomæ–‡ä»¶</p>
<pre><code class="language-xml">//å¼•å…¥è‡ªå®šä¹‰çš„apié€šç”¨åŒ…,å¯ä»¥ä½¿ç”¨Deptçš„entity
&lt;dependency&gt;
    &lt;groupId&gt;com.liudao.springcloud&lt;/groupId&gt;
    &lt;artifactId&gt;mikroserverclod-api&lt;/artifactId&gt;
     &lt;version&gt;${project.version}&lt;/verson&gt;
&lt;/dependency&gt;
</code></pre>
<p>å¯¼å…¥çš„ä¾èµ–æœ‰:</p>
<p>junit/mysql-connector-java(mysqlçš„é©±åŠ¨åŒ…)/druidè¿æ¥æ± /logback-coreæ—¥å¿—/mybatis-spring-boot-start(springå’Œmybatisçš„æ•´åˆ)/jettyå†…åµŒçš„æœåŠ¡å™¨/start-web/start-test/çƒ­éƒ¨ç½²springloaded/boot-devtools</p>
<p>æœ¬æ¨¡å—çš„é…ç½®æ–‡ä»¶åœ¨resourcesä¸­åˆ›å»ºapplication.yml</p>
<pre><code class="language-yml">//springå’Œmybatisçš„æ•´åˆé…ç½®
server
 port: 8001
mybatis:
 config-location: classpath:mybatis/mybatis.cfg.xml
 type-aliases-package: com.liudao.springcloud.entities
 mapper-location:
 - classpath:mybatis/mapper/**/.xml 
spring:
  application:
   name:microservicecloud-dept   //è¿™ä¸ªå¾ˆé‡è¦,å¯¹å¤–æš´éœ²çš„åå­—
  datasource:
   type:com.alibaba.druid.pool.DruidDataSource
   driver-class-name: org.gjt.mm.mysql.Drivid
   url:
   username:
   password:
   dbcp2:
     min-idle: 5
     initial-size: 5
     max-total: 5
     max-wait-millis:200
</code></pre>
<h2 id="4åœ¨deptå­ç±»æ¨¡å—ä¸­çš„resourceåˆ›å»ºä¸€ä¸ªmybatisæ–‡ä»¶é…ç½®mybatisxml">4.åœ¨deptå­ç±»æ¨¡å—ä¸­çš„resourceåˆ›å»ºä¸€ä¸ªmybatisæ–‡ä»¶,é…ç½®mybatis.xml</h2>
<p>å®ƒé‡Œé¢çš„é…ç½®æ–‡ä»¶éƒ½è¢«æ•´åˆåˆ°äº†springçš„é…ç½®æ–‡ä»¶ä¸­äº†</p>
<p>Mybatisæä¾›æŸ¥è¯¢ç¼“å­˜ï¼Œå¦‚æœç¼“å­˜ä¸­æœ‰æ•°æ®å°±ä¸ç”¨ä»æ•°æ®åº“ä¸­è·å–ï¼Œç”¨äºå‡è½»æ•°æ®å‹åŠ›ï¼Œæé«˜ç³»ç»Ÿæ€§èƒ½ã€‚</p>
<p>ä¸€çº§ç¼“å­˜æ˜¯<strong>SqlSessionçº§åˆ«</strong>çš„ç¼“å­˜ã€‚åœ¨æ“ä½œæ•°æ®åº“æ—¶éœ€è¦æ„é€  sqlSessionå¯¹è±¡ï¼Œåœ¨å¯¹è±¡ä¸­æœ‰ä¸€ä¸ªæ•°æ®ç»“æ„ï¼ˆHashMapï¼‰ç”¨äºå­˜å‚¨ç¼“å­˜æ•°æ®ã€‚ä¸åŒçš„sqlSessionä¹‹é—´çš„ç¼“å­˜æ•°æ®åŒºåŸŸï¼ˆHashMapï¼‰æ˜¯äº’ç›¸ä¸å½±å“çš„ã€‚</p>
<p>äºŒçº§ç¼“å­˜æ˜¯Mapperï¼ˆnamespaceï¼‰çº§åˆ«çš„ç¼“å­˜ã€‚å¤šä¸ªSqlSessionå»æ“ä½œåŒä¸€ä¸ªMapperçš„sqlè¯­å¥ï¼Œå¤šä¸ªSqlSessionå¯ä»¥å…±ç”¨äºŒçº§ç¼“å­˜ï¼ŒäºŒçº§ç¼“å­˜æ˜¯è·¨SqlSessionçš„ã€‚</p>
<pre><code class="language-xml">&lt;settings&gt;
	&lt;setting name=&quot;cacheEnable&quot; value=&quot;true&quot;/&gt; å¼€å¯äºŒçº§ç¼“å­˜
&lt;/settings&gt;
</code></pre>
<h2 id="5å¯¼å…¥äº†ä¾èµ–é…ç½®äº†applicationxmlå’Œmybaitsxmlä¹‹åå¼€å§‹å†™mysqlåˆ›å»ºdeptæ•°æ®åº“è„šæœ¬">5.å¯¼å…¥äº†ä¾èµ–,é…ç½®äº†application.xmlå’Œmybaits.xml,ä¹‹åå¼€å§‹å†™mysqlåˆ›å»ºdeptæ•°æ®åº“è„šæœ¬</h2>
<p>åœ¨microservicecloud-provider-dept-8001åˆ›å»ºä¸€ä¸ªdaoå±‚,ç”¨æ¥å†™äº¤äº’æ•°æ®åº“æŸ¥è¯¢deptçš„ä¸šåŠ¡ä»£ç </p>
<pre><code class="language-java">æ³¨è§£çš„æ–¹å¼
public Interface IDeptDao{  
   //æŸ¥è¯¢å‡ºæ‰€æœ‰éƒ¨é—¨
    @select(&quot;select * from dept&quot;)
    List&lt;Dept&gt; findDeptAll();
    //æ ¹æ®IdæŸ¥è¯¢éƒ¨é—¨
    @select(&quot;select * from dept where id = #{id}&quot;)
    Dept findDeptById(Integer id);
}
</code></pre>
<pre><code class="language-java">dao+implçš„æ–¹å¼æ˜¯ä¼ ç»Ÿæ–¹å¼,ç”¨äº†&lt;&gt;mybatisæ¡†æ¶ç°åœ¨dao+daoMpper.xml
ä¸ºäº†æŠŠmapperè¿™ä¸ªDAOäº¤çµ¦Springç®¡ç†  / å› ä¸ºä½ springå’Œmybatisè¿›è¡Œæ•´åˆ,å¿…é¡»åŠ @mapperè¿™ä¸ªæ³¨è§£
@Mapper
public Interface IDeptDao{
   List&lt;Dept&gt; findDeptAll();
  Dept findDeptById(Long id);
  boolean addDept(Dept dept);
}
</code></pre>
<h2 id="6åœ¨resourcemybatisä¸‹æ–°å»ºmapperæ–‡ä»¶åˆ›å»ºdeptmapperxml">6.åœ¨resource/mybatisä¸‹æ–°å»ºmapperæ–‡ä»¶åˆ›å»ºDeptMapper.xml</h2>
<pre><code class="language-xml">&lt;mapper namespace=&quot;com.liudao.springcloud.dao.DeptDao&quot;&gt;
    &lt;select id=&quot;findDeptById&quot; resultType=&quot;Dept&quot; parameterType=&quot;Long&quot;&gt;
        select deptno,dname,db_source from dept where id = #{deptno}
    &lt;/select&gt;
    &lt;insert id=&quot;addDept&quot; resultType=&quot;boolean&quot; parameterType=&quot;dept&quot;&gt;
        insert into dept(dname,db_source ) values(#{dname},DATABASE());
    &lt;/insert&gt;
&lt;/mapper&gt;

</code></pre>
<h2 id="7serviceå±‚çš„daoå’Œimpl">7.serviceå±‚çš„daoå’Œimpl</h2>
<pre><code class="language-java">public Interface IDeptService{
   List&lt;Dept&gt; findDeptAll();
  Dept findDeptById(Long id);
  boolean addDept(Dept dept);
}
</code></pre>
<pre><code class="language-java">@service
@Transtation
public class DeptServiceImpl implements IDeptService {
    //æ³¨å…¥Userdao
    @autoWrite
    private IuserDao userdao
   List&lt;Dept&gt; findDeptAll(){
       return userdao.findDeptAll();
    }
  Dept findDeptById(Long id);
  boolean addDept(Dept dept);
}
</code></pre>
<h2 id="8åˆ›å»ºcontrollerå±‚">8.åˆ›å»ºcontrollerå±‚</h2>
<pre><code class="language-java">@controller
@requestMapping(&quot;/dept&quot;)
calss DeptController{
	 @autoWrite
	private IDeptService deptService;
	@requestMapping(value = &quot;/findDeptAll&quot;,method=RequestMethod.Get)
	public String findDeptAll(){
		return deptService.findDeptAll();
	
	}
	 // @RequestBodyä¸»è¦ç”¨æ¥æ¥æ”¶å‰ç«¯ä¼ é€’ç»™åç«¯çš„jsonå­—ç¬¦ä¸²ä¸­çš„æ•°æ®
	 	@requestMapping(&quot;/add&quot;,method=RequestMethod.Post)
	public boolean add(@requestBody Dept dept){
		return deptService.add(dept);
	}
    
    @requestMapping(&quot;/findDeptById/{id}&quot;,method=RequestMethod.Get)
	public boolean findDeptById(@pathVariable(&quot;id&quot;) Long id){
		return deptService.findDeptById(id);
	}
}
</code></pre>
<h2 id="9ä¸»å¯åŠ¨ç±»deptprovider8001_app">9.ä¸»å¯åŠ¨ç±»DeptProvider8001_App</h2>
<h2 id="10åˆ›å»ºä¸€ä¸ªæ¶ˆè´¹è€…microservicecloud-consumer-dept-80">10.åˆ›å»ºä¸€ä¸ªæ¶ˆè´¹è€…microservicecloud-consumer-dept-80</h2>
<p>â€‹    å…ˆå¯¼å…¥ä¾èµ– : è‡ªå®šä¹‰çš„api(dept) æä¾›è€…å’Œæ¶ˆè´¹è€…éƒ½éœ€è¦ç”¨åˆ°deptè¿™ä¸ªå®ä½“ç±»,æ‰€ä»¥æŠ½å–æ”¾åˆ°é€šç”¨çš„apiæœ€åˆé€‚</p>
<p>â€‹	start-web/çƒ­éƒ¨ç½² devtools</p>
<p>é…ç½®yml :</p>
<pre><code class="language-xml">server:
  port: 80
</code></pre>
<p>åˆ›å»ºä¸€ä¸ªconfigé…ç½®ç±»</p>
<pre><code class="language-java">@Configuration
public class Config{  //ç­‰ä»·äºapplicationContext.xmlé…ç½®æ–‡ä»¶
    &lt;bean id=&quot;userService&quot; class=&quot;com.liudao.userServiceImpl&quot;&gt;
     è¿™é‡Œè¿™æ ·å†™
        @Bean
        public UserService getUserService(){
        	return new UserServiceImpl();
    }
    
    public RestTemplate getRestTemplate(){
        return new RrstTemplate();
    }
}
</code></pre>
<p>åˆ›å»ºcontrollerå±‚åˆ›å»ºDeptController_Consumer</p>
<pre><code class="language-java">urlè¯·æ±‚åœ°å€,è¯·æ±‚å‚æ•°,HTTPå“åº”è¢«è½¬æ¢çš„ç±»å‹
@RsetController
public class DeptController_Consumer{
    private static final String REST_URL_PREFIX = &quot;https:localhost:8001&quot;;
    //æ¶ˆè´¹è€…æ²¡æœ‰serviceå±‚
    @AutoWrite
    private RestTemplate restTemplate;
    @RequestMapping(value=&quot;/consumer/dept/add&quot;)
   	public boolean add(Dept dept){
     return restTemplate.PostForObject(REST_URL_PREFIX+&quot;/dept/add&quot;,dept,Boolean.class)
    }
     @RequestMapping(value=&quot;/consumer/dept/findDeptById/{id}&quot;)
   	public Dept add(@pathVariable(&quot;id&quot;) Long id){
     return restTemplate.GetForObject(REST_URL_PREFIX+&quot;/dept/findDeptById&quot;+id,Dept.class)
    }      
}
</code></pre>
<p>11.å¯åŠ¨ç±»DeptConsumer80_APP</p>
<h1 id="eureka">Eureka</h1>
<p>æœåŠ¡æ³¨å†Œä¸å‘ç°</p>
<h2 id="1å¯¼å…¥ä¾èµ–é…ç½®applicationxml-å¯åŠ¨ç±»enableeurekaservcer">1.å¯¼å…¥ä¾èµ–,é…ç½®application.xml ,å¯åŠ¨ç±»(@EnableEurekaServcer)</h2>
<pre><code class="language-xml">server:
  port: 7001
eureka:
 instance:
  hostname: localhost
 client:
   register-write-eureka: flase //è¡¨ç¤ºä¸å‘æ³¨å†Œä¸­å¿ƒæ³¨å†Œè‡ªå·±
   fetch-register: flase //è¡¨ç¤ºè‡ªå·±å°±æ˜¯æ³¨å†Œä¸­å¿ƒ,ä¸éœ€è¦æ£€ç´¢
   service-url:
     defaultZone: http://${eurka.instance.hostname}:${server.port}/eureka/
		è®¾ç½®Eureka serveräº¤äº’åœ°å€æŸ¥è¯¢æœåŠ¡å’Œæ³¨å†ŒæœåŠ¡éƒ½éœ€è¦ä¾èµ–è¿™ä¸ªåœ°å€
</code></pre>
<h2 id="2åœ¨providerä¸­å¯¼å…¥ä¾èµ–-start-eurekastart-config">2.åœ¨providerä¸­å¯¼å…¥ä¾èµ– start-eureka/start-config</h2>
<h2 id="3é…ç½®providerä¸­çš„applicationxmlæ–‡ä»¶">3.é…ç½®providerä¸­çš„application.xmlæ–‡ä»¶</h2>
<pre><code class="language-xml">eureka:
  client:  #å®¢æˆ·ç«¯æ³¨å†Œè¿›eurekaæœåŠ¡åˆ—è¡¨å†…
	server-url:
		defaultZone: http://localhost:7001/eureka
</code></pre>
<h2 id="4é…ç½®providerçš„ä¸»å¯åŠ¨ç±»çš„æ³¨è§£enableeurekaclientè¡¨ç¤ºæœåŠ¡å¯åŠ¨åä¼šè‡ªåŠ¨æ³¨å†Œè¿›eurekaæœåŠ¡ä¸­">4.é…ç½®providerçš„ä¸»å¯åŠ¨ç±»çš„æ³¨è§£@EnableEurekaClientè¡¨ç¤ºæœåŠ¡å¯åŠ¨åä¼šè‡ªåŠ¨æ³¨å†Œè¿›EurekaæœåŠ¡ä¸­</h2>
<h2 id="5ä¸»æœºæ˜ å°„åçš„ä¿®æ”¹eurekaä¼˜åŒ–">5.ä¸»æœºæ˜ å°„åçš„ä¿®æ”¹(Eurekaä¼˜åŒ–)</h2>
<p>åªéœ€è¦åœ¨providerä¸­çš„application.xmlä¸­æ·»åŠ </p>
<p>insatance:</p>
<p>â€‹    instance-id: micorservicecloud-dept8001</p>
<h2 id="å¢åŠ è®¿é—®è·¯å¾„å¯ä»¥æ˜¾ç¤ºipåœ°å€">//å¢åŠ è®¿é—®è·¯å¾„å¯ä»¥æ˜¾ç¤ºIpåœ°å€</h2>
<p>â€‹     prefer-ip-address: true</p>
<h2 id="å¾®æœåŠ¡infoå†…å®¹çš„å®Œå–„">å¾®æœåŠ¡infoå†…å®¹çš„å®Œå–„</h2>
<p>æ·»åŠ ä¾èµ–  start-actuator</p>
<h2 id="6è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶90å¿ƒè·³è¿æ¥">6.è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶(90å¿ƒè·³è¿æ¥)</h2>
<h2 id="7æœåŠ¡çš„å‘ç°">7.æœåŠ¡çš„å‘ç°</h2>
<p>è®©æ¶ˆè´¹è€…å‘ç°æˆ‘ä»¬çš„åœ¨eueckaä¸­æ³¨å†Œçš„æœåŠ¡</p>
<h2 id="8eurekaé›†ç¾¤é…ç½®">8.eurekaé›†ç¾¤é…ç½®</h2>
<h1 id="ç¡¬ä»¶æ¨è">ç¡¬ä»¶æ¨è</h1>
<p>ç«–å±æ˜¾ç¤ºå™¨ï¼šæ˜åŸº BenQ Bl2480T ç‰¹ç‚¹ï¼šåœ¨åŒç­‰ä»·ä½é‡Œè°ƒèŠ‚çµæ´»ï¼ŒVGA,HDMI,DPæ¥å£éƒ½æœ‰ï¼Œå¹¶ä¸”å…¼æœ‰BIæ™ºæ…§è°ƒå…‰èƒ½è‡ªåŠ¨è°ƒå…‰å’Œå‡æš—éƒ¨ç»†èŠ‚ ä»·æ ¼1200å…ƒ ï¼Œä½ ä»¬å€¼å¾—æ‹¥æœ‰ ç°åœ¨å‚è€ƒä»· 1149  23.8è‹±å¯¸ åˆ†è¾¨ç‡1920x1080<br>
é”®ç›˜ï¼šé˜¿ç±³æ´›æœºæ¢°é”®ç›˜èŒ¶è½´æ— çº¿ å‚è€ƒä»·:479å…ƒ å…¼å®¹macå’Œwindows<br>
é”®ç›˜:è‹¹æœmagic keyboard å‚è€ƒä»·:<strong>728</strong></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Hello å…­é“]]></title>
        <id>https://oracleliudao.github.io/post/hello-gridea/</id>
        <link href="https://oracleliudao.github.io/post/hello-gridea/">
        </link>
        <updated>2020-04-10T15:35:02.000Z</updated>
        <content type="html"><![CDATA[<!-- more -->
<p>ğŸ‘  æ¬¢è¿æ¥åˆ° <strong>å…­é“åšå®¢</strong> ï¼<br>
âœï¸ è®°å½•è‡ªå·±çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ä¸ºä»€ä¹ˆä¸æ¨èå­¦Pythonå»æ‰¾å·¥ä½œ?ä¸ºä»€ä¹ˆåªä¼šPythonå¾ˆéš¾æ‰¾åˆ°å·¥ä½œ?]]></title>
        <id>https://oracleliudao.github.io/post/wei-shi-me-wo-bu-tui-jian-xue-python-qu-zhao-gong-zuo-wei-shi-me-zhi-hui-python-hen-nan-zhao-dao-gong-zuo/</id>
        <link href="https://oracleliudao.github.io/post/wei-shi-me-wo-bu-tui-jian-xue-python-qu-zhao-gong-zuo-wei-shi-me-zhi-hui-python-hen-nan-zhao-dao-gong-zuo/">
        </link>
        <updated>2020-04-10T12:48:31.000Z</updated>
        <content type="html"><![CDATA[<p><img src="https://oracleliudao.github.io/post-images/1585266622241.jpg" alt="" loading="lazy"><br>
ä¸å¾—ä¸è¯´Pythonç›®å‰æ˜¯ä¸€ä¸ªå¾ˆçƒ­é—¨çš„ç¼–ç¨‹è¯­è¨€,ä½†æ˜¯çƒ­é—¨ä¸è§å¾—å¥½æ‰¾å·¥ä½œ,ç”¨Pythonå†™ä¸€ç‚¹å°è„šæœ¬,è‡ªåŠ¨åŒ–çš„å·¥å…·å¾ˆæœ‰ç”¨.<br>
Pythonæ¶‰åŠçš„é¢†åŸŸ:<br>
AI äººå·¥æ™ºèƒ½, æœºå™¨å­¦ä¹ ç®—æ³•é¢†åŸŸ.ğŸ˜€<br>
ç¬¬äºŒä¸ªé¢†åŸŸå°±æ˜¯æ•°æ®åˆ†æ<br>
ä¸‰çˆ¬è™«<br>
webåç«¯å¼€å‘<br>
è‡ªåŠ¨åŒ–æµ‹è¯•å•Š,è¿ç»´,è¾…åŠ©è„šæœ¬ğŸ˜ƒ<br>
ä»¥å‰ä»ç½‘ç«™çˆ¬ä¸€äº›ä¸œè¥¿å¾ˆå®¹æ˜“,javaå°±èƒ½æå®š,ä½†æ˜¯è¿‘å¹´ä¸€äº›ç½‘ç«™åæ‰’æœºåˆ¶åšçš„å¾ˆå¥½,ä½ æƒ³çˆ¬åˆ°ä½ æ„Ÿå…´è¶£çš„ä¸œè¥¿è¶Šæ¥è¶Šéš¾äº†<br>
è±†ç“£å¥½åƒæ˜¯ç”¨Pythonåšçš„åç«¯<br>
Pythonä¹Ÿå°±æ˜¯åšåšå…¬å¸é‡Œé¢çš„æŸäº›è¾…åŠ©ç³»ç»Ÿ<br>
å¦‚æœä¸æ˜¯ç ”ç©¶ç”Ÿå­¦ä½,æˆ–ç®—æ³•å¾ˆå¥½çš„è¯,ä¸å»ºè®®å­¦Python ğŸ˜„</p>
]]></content>
    </entry>
</feed>